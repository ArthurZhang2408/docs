---
title: Mean Reciprocal Rank Reranker
sidebarTitle: "MRR Algorithm"
description: Learn about LanceDB's Mean Reciprocal Rank (MRR) reranker for combining and reranking results from hybrid and multivector searches.

---

import { PyRerankingMrrUsage } from '/snippets/integrations.mdx';

# Mean Reciprocal Rank Reranker

This reranker uses the Mean Reciprocal Rank (MRR) algorithm to combine multiple ranked result sets into a single ranking.

- For **hybrid search**, it combines the ranks from vector search and full-text search (FTS).
- For **multivector search**, it combines the ranks from multiple vector searches.

Algorithm reference: https://en.wikipedia.org/wiki/Mean_reciprocal_rank

> **Note:** Supported query types – Hybrid search and Multivector search.

<CodeGroup>
  <CodeBlock filename="Python" language="Python" icon="python">
    {PyRerankingMrrUsage}
  </CodeBlock>
</CodeGroup>

Accepted Arguments
----------------
| Argument | Type | Default | Description |
| --- | --- | --- | --- |
| `weight_vector` | `float` | `0.5` | Weight for vector search results (0.0 to 1.0). Must satisfy `weight_vector + weight_fts == 1.0`. |
| `weight_fts` | `float` | `0.5` | Weight for FTS search results (0.0 to 1.0). Must satisfy `weight_vector + weight_fts == 1.0`. |
| `return_score` | `str` | `"relevance"` | Options are "relevance" or "all". The type of score to return. If "relevance", will return only the `_relevance_score`. If "all", will return all scores from the vector and FTS search along with the relevance score. |

## Supported Scores for each query type
You can specify the type of scores you want the reranker to return. The following are the supported scores for each query type:

### Hybrid Search
|`return_score`| Status | Description |
| --- | --- | --- |
| `relevance` | ✅ Supported | Returned rows only have the `_relevance_score` column. |
| `all` | ✅ Supported | Returned rows have vector(`_distance`) and FTS(`_score`) along with Hybrid Search score(`_relevance_score`). |

### Multivector Search
|`return_score`| Status | Description |
| --- | --- | --- |
| `relevance` | ✅ Supported | Returned rows only have the `_relevance_score` column. |
| `all` | ✅ Supported | Returned rows keep the vector search score columns (for example, `_distance`) along with the Multivector score (`_relevance_score`). |
