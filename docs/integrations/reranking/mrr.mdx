---
title: Mean Reciprocal Rank Reranker
sidebarTitle: "MRR Algorithm"
description: Combine and rerank results using Mean Reciprocal Rank (MRR) for hybrid and multivector search in LanceDB.

---

import { PyRerankingMrrUsage } from '/snippets/integrations.mdx';

# Mean Reciprocal Rank Reranker

Mean Reciprocal Rank (MRR) is a rank-based algorithm for combining results from multiple retrieval systems. Instead of using raw scores (like vector distance or BM25 score), MRR uses each document's *position* in each ranked list.

For each document, MRR computes the reciprocal rank (1 / rank) in each system and combines them into a single `_relevance_score`.


> **Note:** Supported query types – Hybrid search and Multivector search.


<CodeGroup>
  <CodeBlock filename="Python" language="Python" icon="python">
    {PyRerankingMrrUsage}
  </CodeBlock>
</CodeGroup>

Accepted Arguments
----------------
| Argument | Type | Default | Description |
| --- | --- | --- | --- |
| `weight_vector` | `float` | `0.5` | Weight for vector search results (0.0 to 1.0). |
| `weight_fts` | `float` | `0.5` | Weight for FTS search results (0.0 to 1.0). Note: `weight_vector + weight_fts` should equal `1.0`. |
| `return_score` | str | `"relevance"` | Options are "relevance" or "all". The type of score to return. If "relevance", will return only the `_relevance_score`. If "all", will return all scores from the vector and FTS search along with the relevance score. |


## Supported Scores for each query type
You can specify the type of scores you want the reranker to return. The following are the supported scores for each query type:

### Hybrid Search
|`return_score`| Status | Description |
| --- | --- | --- |
| `relevance` | ✅ Supported | Returned rows only have the `_relevance_score` column. |
| `all` | ✅ Supported | Returned rows have vector(`_distance`) and FTS(`score`) along with Hybrid Search score(`_relevance_score`). |

### Multivector Search
|`return_score`| Status | Description |
| --- | --- | --- |
| `relevance` | ✅ Supported | Returned rows only have the `_relevance_score` column. |
| `all` | ✅ Supported | Returned rows have vector(`_distance`) along with Multivector Search score(`_relevance_score`). |
