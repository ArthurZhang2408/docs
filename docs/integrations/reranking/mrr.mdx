---
title: Mean Reciprocal Rank Reranker
sidebarTitle: "MRR Algorithm"
description: Learn about LanceDB's Mean Reciprocal Rank (MRR) reranker for combining and reranking results from hybrid and multivector searches.

---

import { PyRerankingMrrUsage } from '/snippets/integrations.mdx';

# Mean Reciprocal Rank Reranker

The Mean Reciprocal Rank (MRR) reranker combines multiple ranked result lists by converting each document's position (rank) into a reciprocal rank (1/rank), and then aggregating those reciprocal ranks into a single relevance score.

In LanceDB, MRR is useful when you want a rank-based fusion method (rather than a score-based method) for:

- **Hybrid search** (vector + full-text search)
- **Multivector search** (multiple vector searches over different vector columns or different queries)

> **Note:** Supported query types – Hybrid search and multivector reranking.

<CodeGroup>
  <CodeBlock filename="Python" language="Python" icon="python">
    {PyRerankingMrrUsage}
  </CodeBlock>
</CodeGroup>

Accepted Arguments
----------------
| Argument | Type | Default | Description |
| --- | --- | --- | --- |
| `weight_vector` | `float` | `0.5` | Weight for vector search results (0.0 to 1.0). |
| `weight_fts` | `float` | `0.5` | Weight for FTS search results (0.0 to 1.0). Note: `weight_vector + weight_fts` must equal `1.0`. |
| `return_score` | str | `"relevance"` | Options are "relevance" or "all". The type of score to return. If "relevance", will return only the `_relevance_score`. If "all", will return all scores from the vector and FTS search along with the relevance score. |


## Supported Scores for each query type
You can specify the type of scores you want the reranker to return. The following are the supported scores for each query type:

### Hybrid Search
|`return_score`| Status | Description |
| --- | --- | --- |
| `relevance` | ✅ Supported | Returned rows only have the `_relevance_score` column. |
| `all` | ✅ Supported | Returned rows have vector (`_distance`) and FTS (`_score`) along with Hybrid Search score (`_relevance_score`). |

### Multivector Search
|`return_score`| Status | Description |
| --- | --- | --- |
| `relevance` | ✅ Supported | Returned rows only have the `_relevance_score` column. |
| `all` | ✅ Supported | Returned rows include the original vector search columns (for example, `_distance`) along with `_relevance_score`. |
