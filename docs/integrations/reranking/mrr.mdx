---
title: Mean Reciprocal Rank Reranker
sidebarTitle: "MRR Algorithm"
description: Combine and rerank hybrid and multivector search results in LanceDB using the Mean Reciprocal Rank (MRR) algorithm.

---

import { PyRerankingMrrUsage } from '/snippets/integrations.mdx';

# Mean Reciprocal Rank Reranker

The Mean Reciprocal Rank (MRR) reranker combines results from multiple ranking systems by using each document's *rank position* (rather than raw scores). For each document, it computes the reciprocal rank (1 / rank) in each system and then aggregates these values into a final `_relevance_score`.

This reranker is useful when you want a simple, deterministic way to combine:

- **Hybrid search** results (vector + full-text search)
- **Multivector search** results (multiple vector queries / vector columns)

Algorithm reference: https://en.wikipedia.org/wiki/Mean_reciprocal_rank

> **Note:** Supported query types – Hybrid search and Multivector search.

<CodeGroup>
  <CodeBlock filename="Python" language="Python" icon="python">
    {PyRerankingMrrUsage}
  </CodeBlock>
</CodeGroup>

Accepted Arguments
----------------
| Argument | Type | Default | Description |
| --- | --- | --- | --- |
| `weight_vector` | `float` | `0.5` | Weight for vector search results (0.0 to 1.0). |
| `weight_fts` | `float` | `0.5` | Weight for FTS search results (0.0 to 1.0). Note: `weight_vector + weight_fts` should equal `1.0`. |
| `return_score` | `str` | `"relevance"` | Options are "relevance" or "all". The type of score to return. If "relevance", will return only the `_relevance_score` column. If "all", will return all scores from the vector and FTS search along with the relevance score. |

## Supported Scores for each query type
You can specify the type of scores you want the reranker to return. The following are the supported scores for each query type:

### Hybrid Search
|`return_score`| Status | Description |
| --- | --- | --- |
| `relevance` | ✅ Supported | Returned rows only have the `_relevance_score` column. |
| `all` | ✅ Supported | Returned rows have vector(`_distance`) and FTS(`score`) along with Hybrid Search score(`_relevance_score`). |

### Multivector Search
|`return_score`| Status | Description |
| --- | --- | --- |
| `relevance` | ✅ Supported | Returned rows only have the `_relevance_score` column. |
| `all` | ✅ Supported | Returned rows keep the original columns from each vector search result, and add `_relevance_score`. |
